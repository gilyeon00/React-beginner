<!--fetch를 사용한, fake API를 불러들여와서 화면에 띄워주는 예제-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <ul class="namebox"></ul>

    <script>
        const namebox = document.querySelector('.namebox');
        let nameValue = '';

        // front에서 서버에 있는 데이터 가져올때 1.fetch 2.axios
        // fetch는 지원안되는 브라우저가 있기에 axios라이브러리를 더 사용함

        //fetch(url) // url은 서버 api주소     // fetch안에는 Promise객체 있음
        fetch("https://jsonplaceholder.typicode.com/users") // 주소가 맞다면 reslove가 실행
        .then(response => {
            let data = response.json();     // fetch는 수동으로 json으로 변환해줘야함
            return data;
        })
        .then(value => {
            value.forEach(ele => {
                nameValue += `<li>${ele.id}번 user이름 : ${ele.name}</li>`;
                namebox.innerHTML=nameValue;
            });
        })    // 위의 then에서 return한 결과 = value
        .catch(e => {
            console.error(e);
        })

    </script>
</body>
</html>